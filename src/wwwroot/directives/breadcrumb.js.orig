(function () {
    'use strict';

    angular
      .module('dopplerRelay')
      .directive('breadcrumb', breadcrumb);

      breadcrumb.$inject = [
        '$location'
    ];

    function breadcrumb() {
        var directive = {
            restrict: 'E',
            controller: function ($scope, $location) {
<<<<<<< HEAD
                var url = $location.path().split('/');
=======
                console.log($location.path().replace(/^\/|\/$/g, '').split('/'));

                var url = $location.path().replace(/^\/|\/$/g, '').split('/');
>>>>>>> [DR-1518] First breadcrumb version
                var obj = { folder: url[0] };
                for (var i=0; i < url.length - 1; i++) {
                    if(url[i]){
                        obj['previous'] = url[i];
                        obj['previousText'] = url[i].replace(/-/g, '_');
                        obj['currentText'] = url[i+1].replace(/-/g, '_');
                    }
                }
<<<<<<< HEAD
=======

>>>>>>> [DR-1518] First breadcrumb version
                $scope.url = obj;
            },
            scope: false,
            templateUrl: 'partials/directives/breadcrumb.html',
        };
<<<<<<< HEAD
=======

>>>>>>> [DR-1518] First breadcrumb version
        return directive;
    }

})();
