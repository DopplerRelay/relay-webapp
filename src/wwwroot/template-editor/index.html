<!DOCTYPE html>
<html class="no-js" lang="en"> <!-- TODO: make lang dynamic -->

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Doppler</title>
  <meta name="description" content="">
  <meta name="keywords" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- inject:css -->
  <link rel="stylesheet" href="//cdn.fromdoppler.com/mseditor/v1.0.0-build286/styles/styles.min.css">
  <!-- endinject -->
</head>

<body ng-app="mseditor" class="ms-editor" ng-keydown="onKeypress($event)">
    
<ng-view></ng-view>

<mseditor-loader></mseditor-loader>
<script src="//cdn.fromdoppler.com/mseditor/v1.0.0-build286/scripts/lib.min.js"></script>
<script src="//cdn.fromdoppler.com/mseditor/v1.0.0-build286/scripts/app.min.js"></script>
<script type="text/javascript">
(function() {
    'use strict';
  
    angular
      .module('mseditor')
      .service('adapterService', adapterService);
  
      adapterService.$inject = [
      '$http',
      '$q'
    ];
  
    function adapterService($http, $q) {
      var service = {
        getCampaign: getCampaign,
        campaignSaveChanges: campaignSaveChanges,
        campaignSaveChangesAsTemplate: campaignSaveChangesAsTemplate,
        getCampaignRssPreview: getCampaignRssPreview,
        deleteImages: deleteImages,
        getImagesForCampaign: getImagesForCampaign,
        getPreviewImage: getPreviewImage,
        getPreviewImageWithPlay: getPreviewImageWithPlay,
        getSettings: getSettings
      };
  
      return service;

      function getPreviewImageWithPlay(params) {
        console.log("getPreviewImageWithPlay");
        return $q.reject();
      }

      function getPreviewImage(params) {
        console.log("getPreviewImage");
        return $q.reject();
      }

      function getImagesForCampaign(params) {
        console.log("getImagesForCampaign");
        
        return $q.reject();
      }

      function deleteImages(params) {
        console.log("deleteImages");
        return $q.reject();
      }

      function getCampaignRssPreview(IdCampaign, subjectCampaign, html) {
        console.log("getCampaignRssPreview");
        return $q.reject();
      }

      function campaignSaveChangesAsTemplate(params) {
        console.log("campaignSaveChangesAsTemplate");
        return $q.reject();
      }

      function campaignSaveChanges(params) {
        console.log("campaignSaveChanges");
        return $q.reject();
      }

      function getCampaign(id, useEditorAsTemplate) {
        console.log("getCampaign");
        var campaign = {
          id: id,
          type: 'campaign',
          name: 'Campaign ' + id,
          attributes: {},
          innerHTML: '',
          children: []
        };
        return $http.get("").then(function(){
          return {data: campaign};
        });
      }

      function getSettings(msEditorSettings, promise, campaign) {
        console.log("getSettings");
        msEditorSettings = {
          language: 'es',
          sharedSocialNetworks: [{
            name: 'twitter',
            url: 'http://twitter.com/share?related=fromdoppler',
            idSocialNetwork: '0'
          }, {
            name: 'linkedin',
            url: 'http://linkedin.com/',
            idSocialNetwork: '1'
          }, {
            name: 'facebook',
            url: 'http://facebook.com',
            idSocialNetwork: '2'
          }, {
            name: 'googlemas',
            url: 'http://google.com',
            idSocialNetwork: '3'
          }, {
            name: 'pinterest',
            url: 'http://pinterest.com',
            idSocialNetwork: '4'
          }, {
            name: 'whatsapp',
            url: 'http://whatsapp.com',
            idSocialNetwork: '5'
          }],
          stores: [{
            name: 'TiendaNube',
            accessToken: '4b9883131f01fbde3f168dde5bca209b1db1fbb1',
            storeId: '404554'
          }], //Array to store eshops credentials
          redirectUrl: '/MSEditor/Editor?idCampaign=1&redirectedFromSummary=True',
          rssCampaign: true,
          rssShowPreview: true
          };
        return $http.get("").then(function(){
          return msEditorSettings;
        });
      }
    }
  })();
</script>
</body>

</html>